# Руководство по использованию системы галереи

## Обзор

Система галереи позволяет управлять портфолио проектов через административную панель Orchid. Система состоит из двух основных компонентов:

1. **Категории галереи** - для организации проектов по типам (например, "Кровельные работы", "Фасадные работы")
2. **Проекты галереи** - отдельные проекты с изображениями, описаниями и деталями

## Доступ к системе

1. Войдите в административную панель Orchid
2. В левом меню найдите раздел "Content Management" 
3. Откройте подраздел "Gallery"
4. Выберите "Categories" для управления категориями или "Projects" для управления проектами

## Управление категориями

### Создание новой категории

1. Перейдите в "Gallery" → "Categories"
2. Нажмите "Создать категорию"
3. Заполните поля:
   - **Название** - название категории (обязательно)
   - **Слаг** - URL-идентификатор (генерируется автоматически, но можно изменить)
   - **Описание** - краткое описание категории
   - **Порядок сортировки** - число для упорядочивания категорий (меньшее число = выше в списке)
   - **Активна** - включить/выключить отображение категории на сайте

### Редактирование категории

1. В списке категорий нажмите на название нужной категории
2. Измените необходимые поля
3. Нажмите "Обновить"

### Удаление категории

⚠️ **Внимание**: При удалении категории все проекты в ней также будут удалены!

1. В списке категорий нажмите кнопку "Удалить" рядом с нужной категорией
2. Подтвердите удаление

## Управление проектами

### Создание нового проекта

1. Перейдите в "Gallery" → "Projects"
2. Нажмите "Создать проект"
3. Заполните поля:
   - **Название проекта** - название проекта (обязательно)
   - **Слаг** - URL-идентификатор (генерируется автоматически)
   - **Категория** - выберите категорию из списка (обязательно)
   - **Краткое описание** - краткое описание проекта
   - **Детали проекта** - подробное описание проекта
   - **Дата проекта** - дата выполнения проекта
   - **Имя клиента** - имя клиента (необязательно)
   - **Порядок сортировки** - число для упорядочивания проектов
   - **Активен** - включить/выключить отображение проекта на сайте
   - **Изображения проекта** - загрузите изображения (до 50 файлов)

### Загрузка изображений

1. В поле "Изображения проекта" нажмите "Загрузить файлы"
2. Выберите изображения с компьютера (поддерживаются все форматы изображений)
3. Можно загрузить до 50 изображений одновременно
4. Изображения автоматически привяжутся к проекту при сохранении

### Редактирование проекта

1. В списке проектов нажмите на название нужного проекта
2. Измените необходимые поля
3. Добавьте или удалите изображения по необходимости
4. Нажмите "Обновить"

### Удаление проекта

1. В списке проектов нажмите кнопку "Удалить" рядом с нужным проектом
2. Подтвердите удаление

## Просмотр галереи на сайте

Галерея доступна по адресу: `/gallery`

На странице галереи пользователи могут:
- Просматривать все проекты
- Фильтровать проекты по категориям
- Просматривать детали проекта в модальном окне
- Увеличивать изображения проекта

## Технические особенности

### Attachable от Orchid

Система использует встроенную функциональность Orchid для работы с файлами:
- Все изображения хранятся в таблице `attachments`
- Связи между проектами и изображениями хранятся в таблице `attachmentable`
- Поддерживается автоматическая оптимизация изображений
- Возможность массовой загрузки файлов

### Структура базы данных

- `gallery_categories` - таблица категорий
- `gallery_projects` - таблица проектов
- `attachments` - таблица файлов (стандартная Orchid)
- `attachmentable` - таблица связей файлов с моделями (стандартная Orchid)

### Модели

- `GalleryCategory` - модель категории
- `GalleryProject` - модель проекта с поддержкой `Attachable`

### Экраны Orchid

- `GalleryCategoryListScreen` - список категорий
- `GalleryCategoryEditScreen` - редактирование категории
- `GalleryProjectListScreen` - список проектов
- `GalleryProjectEditScreen` - редактирование проекта

## Рекомендации по использованию

1. **Категории**: Создайте логичную структуру категорий (например, "Кровельные работы", "Фасадные работы", "Коммерческие проекты")

2. **Изображения**: 
   - Используйте качественные изображения в высоком разрешении
   - Рекомендуемый размер: не менее 1200x800 пикселей
   - Оптимизируйте изображения перед загрузкой для ускорения загрузки сайта

3. **Описания**: Заполняйте подробные описания проектов для лучшего SEO и информативности

4. **Порядок сортировки**: Используйте числа для контроля порядка отображения (0, 10, 20, 30...)

5. **Слаги**: Используйте понятные URL-идентификаторы на английском языке

## Поддержка

При возникновении проблем обратитесь к разработчику или проверьте логи Laravel в папке `storage/logs/`. 